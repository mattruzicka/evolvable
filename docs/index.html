<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="evolvable">Evolvable 🧬</h1>

<p><a href="https://badge.fury.io/rb/evolvable"><img src="https://badge.fury.io/rb/evolvable.svg" alt="Gem Version"></a></p>

<p><strong>Code Version: 2.0.0</strong></p>

<p>Evolvable is a Ruby gem that brings genetic algorithms to Ruby objects through simple, flexible APIs. Define genes, implement fitness criteria, and let evolution discover optimal solutions through selection, combination, and mutation.</p>

<p>Perfect for optimization problems, creative content generation, machine learning, and simulating complex systems.</p>

<h2 id="why-evolvable">Why Evolvable?</h2>

<p>Evolvable is ideal when the solution space is too large or complex for brute-force methods. Instead of hardcoding solutions, you define constraints and let evolution discover optimal configurations over time.</p>

<p><strong>The Evolvable Approach:</strong></p>

<ul>
<li>Explore vast solution spaces efficiently without examining every possibility</li>
<li>Discover novel solutions that might not be obvious to human designers</li>
<li>Adapt to changing conditions through continuous evolution</li>
<li>Balance diverse objectives with communities of different populations</li>
<li>Integrate evolutionary concepts directly into your Ruby object model</li>
<li>Generate creative content like music, art, and text, not just numerical optimization</li>
</ul>

<p>Whether you&#39;re optimizing parameters, generating creative content, or simulating complex systems, Evolvable provides a natural, object-oriented approach to evolutionary algorithms.</p>

<p><strong>Creative Applications</strong></p>

<p>Evolvable treats creative, object-oriented representations as first-class citizens. The same API that optimizes numeric parameters can evolve music compositions, UI layouts, or game content with equal fluency. Examples include:</p>

<ul>
<li><strong>Generative art</strong>: Evolve visual compositions based on aesthetic criteria</li>
<li><strong>Music composition</strong>: Create melodies, chord progressions, and rhythms</li>
<li><strong>Game design</strong>: Generate levels, characters, or game mechanics</li>
<li><strong>Natural language</strong>: Evolve text with specific tones, styles, or constraints</li>
<li><strong>UI/UX design</strong>: Discover intuitive layouts and color schemes</li>
</ul>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#concepts">Concepts</a></li>
<li><a href="#genes">Genes</a></li>
<li><a href="#populations">Populations</a></li>
<li><a href="#evaluation">Evaluation</a></li>
<li><a href="#evolution">Evolution</a></li>
<li><a href="#selection">Selection</a></li>
<li><a href="#combination">Combination</a></li>
<li><a href="#mutation">Mutation</a></li>
<li><a href="#gene-clusters">Gene Clusters</a></li>
<li><a href="#community">Community</a></li>
<li><a href="#serialization">Serialization</a></li>
<li><a href="https://mattruzicka.github.io/evolvable">Documentation</a></li>
</ul>

<h2 id="installation">Installation</h2>

<p>Add <a href="https://rubygems.org/gems/evolvable">gem &quot;evolvable&quot;</a> to your Gemfile and run <code>bundle install</code> or install it yourself with: <code>gem install evolvable</code></p>

<p><strong>Ruby Compatibility:</strong> Evolvable officially supports Ruby 3.0 and higher.</p>

<h2 id="getting-started">Getting Started</h2>

<p><strong>Quick start</strong>:</p>

<ol>
<li>Include <code>Evolvable</code> in your Ruby class</li>
<li>Define genes with the macro-style <code>gene</code> method</li>
<li>Have the <code>#fitness</code> method return a numeric value</li>
<li>Initialize a population and evolve it</li>
</ol>

<p>Example population of &quot;shirts&quot; with various colors, buttons, and collars.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Step 1
</span><span class='kw'>class</span> <span class='const'>Shirt</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span>

  <span class='comment'># Step 2
</span>  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:color</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>ColorGene</span> <span class='comment'># count: 1 default
</span>  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:buttons</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>ButtonGene</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>10</span> <span class='comment'># Builds an array of genes that can vary in size
</span>  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:collar</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>CollarGene</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>1</span> <span class='comment'># Collar optional
</span>
  <span class='comment'># Step 3
</span>  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:fitness</span>
<span class='kw'>end</span>

<span class='comment'># Step 4
</span><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>Shirt</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>size:</span> <span class='int'>10</span><span class='rparen'>)</span>
<span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_evolvables'>evolvables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_shirt'>shirt</span><span class='op'>|</span> <span class='id identifier rubyid_shirt'>shirt</span><span class='period'>.</span><span class='id identifier rubyid_fitness'>fitness</span> <span class='op'>=</span> <span class='id identifier rubyid_style_rating'>style_rating</span> <span class='rbrace'>}</span>
</code></pre>

<p>You are free to tailor the genes to your needs and find a style that suits you.</p>

<p>The <code>ColorGene</code> could be as simple as this:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>ColorGene</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Gene.html" title="Evolvable::Gene (module)">Gene</a></span></span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
    <span class='ivar'>@to_s</span> <span class='op'>||=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>red</span><span class='words_sep'> </span><span class='tstring_content'>green</span><span class='words_sep'> </span><span class='tstring_content'>blue</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Shirts aren&#39;t your style?</p>

<p>Here&#39;s a <a href="https://github.com/mattruzicka/evolvable/blob/main/exe/hello_evolvable_world">Hello World</a>
command line demo.</p>

<h2 id="concepts">Concepts</h2>

<p>Evolvable is built on these core concepts:</p>

<ul>
<li><strong>Genes</strong>: Ruby objects that represent traits or behaviors and are passed down during evolution.</li>
<li><strong>Evolvables</strong>: Your Ruby classes that include &quot;Evolvable&quot; and delegate to genes</li>
<li><strong>Populations</strong>: Groups of evolvables instances that evolve together</li>
<li><strong>Evaluation</strong>: Sorts evolvables by fitness</li>
<li><strong>Evolution</strong>: Selection → Combination → Mutation to generate new evolvables</li>
<li><strong>Communities</strong>: Encapsulate evolvable populations</li>
</ul>

<p>The framework offers built-in implementations while allowing domain-specific customization through its extensible and swapable components.</p>

<h2 id="genes">Genes</h2>

<p>Genes are the building blocks of evolvable objects, encapsulating individual characteristics
that can be combined and mutated during evolution. Each gene represents a trait or behavior
that can influence an evolvable&#39;s performance.</p>

<p><strong>To define a gene class:</strong></p>

<ol>
<li>Include the <code>Evolvable::Gene</code> module</li>
<li>Define how the gene&#39;s value is determined</li>
</ol>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>BehaviorGene</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Gene.html" title="Evolvable::Gene (module)">Gene</a></span></span>

  <span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span>
    <span class='ivar'>@value</span> <span class='op'>||=</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>explore</span><span class='words_sep'> </span><span class='tstring_content'>gather</span><span class='words_sep'> </span><span class='tstring_content'>attack</span><span class='words_sep'> </span><span class='tstring_content'>defend</span><span class='words_sep'> </span><span class='tstring_content'>build</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Then use it in an evolvable class:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Robot</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span>

  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:behaviors</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>BehaviorGene</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>3</span><span class='op'>..</span><span class='int'>5</span>
  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:speed</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>SpeedGene</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>1</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_fitness'>fitness</span>
    <span class='id identifier rubyid_run_simulation'>run_simulation</span><span class='lparen'>(</span><span class='label'>behaviors:</span> <span class='id identifier rubyid_behaviors'>behaviors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:value</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>speed:</span> <span class='id identifier rubyid_speed'>speed</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><strong>Gene Count</strong></p>

<p>You can control how many copies of a gene are created using the <code>count:</code> parameter:</p>

<ul>
<li><code>count: 1</code> (default) creates a single instance.</li>
<li>A numeric value (e.g. <code>count: 5</code>) creates a fixed number of genes using <code>RigidCountGene</code>.</li>
<li>A range (e.g. <code>count: 2..8</code>) creates a variable number of genes using <code>CountGene</code>, allowing the count to evolve over time.</li>
</ul>

<p>Evolves melody length:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:notes</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>NoteGene</span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>4</span><span class='op'>..</span><span class='int'>12</span>
</code></pre>

<p><strong>Custom Combination</strong></p>

<p>By default, the <code>combine</code> method randomly picks one of the two parent genes.
A gene class can implement custom behavior by overriding <code>.combine</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>SpeedGene</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Gene.html" title="Evolvable::Gene (module)">Gene</a></span></span>

  <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_combine'>combine</span><span class='lparen'>(</span><span class='id identifier rubyid_gene_a'>gene_a</span><span class='comma'>,</span> <span class='id identifier rubyid_gene_b'>gene_b</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_gene'>new_gene</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_new_gene'>new_gene</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_gene_a'>gene_a</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>+</span> <span class='id identifier rubyid_gene_b'>gene_b</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>2</span>
    <span class='id identifier rubyid_new_gene'>new_gene</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_attr_writer'>attr_writer</span> <span class='symbol'>:value</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span>
    <span class='ivar'>@value</span> <span class='op'>||=</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>100</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><strong>Design Patterns</strong></p>

<p>Effective gene design typically follows these principles:</p>

<ul>
<li><strong>Immutability</strong>: Cache values after initial sampling (e.g., <code>@value ||= ...</code>)</li>
<li><strong>Self-Contained</strong>: Genes should encapsulate their logic and state</li>
<li><strong>Composable</strong>: You can build complex structures using multiple genes or clusters</li>
<li><strong>Domain-Specific</strong>: Genes should map directly to your problem’s traits or features</li>
</ul>

<p>Genes come in various types, each representing different aspects of a solution.
Common examples include numeric genes for quantities, selection genes for choices
from sets, boolean genes for binary decisions, structural genes for architecture,
and parameter genes for configuration settings.</p>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Gene">Gene Documentation</a></p>

<h2 id="populations">Populations</h2>

<p>Populations orchestrate the evolutionary process through four key components:</p>

<ol>
<li><strong>Evaluation</strong>: Sorts evolvable instances by fitness</li>
<li><strong>Selection</strong>: Chooses parents for combination</li>
<li><strong>Combination</strong>: Creates new evolvables from selected parents</li>
<li><strong>Mutation</strong>: Introduces variation to maintain genetic diversity</li>
</ol>

<p><strong>Features</strong>:</p>

<p>Initialize a population with default or custom parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>YourEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>size:</span> <span class='int'>50</span><span class='comma'>,</span>
  <span class='label'>evaluation:</span> <span class='lbrace'>{</span> <span class='label'>equalize:</span> <span class='int'>0</span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>selection:</span> <span class='lbrace'>{</span> <span class='label'>size:</span> <span class='int'>10</span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>mutation:</span> <span class='lbrace'>{</span> <span class='label'>probability:</span> <span class='float'>0.2</span><span class='comma'>,</span> <span class='label'>rate:</span> <span class='float'>0.02</span> <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>Or inject fully customized strategy objects:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>YourEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>evaluation:</span> <span class='const'>Your</span><span class='op'>::</span><span class='const'>Evaluation</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
  <span class='label'>evolution:</span> <span class='const'>Your</span><span class='op'>::</span><span class='const'>Evolution</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
  <span class='label'>selection:</span> <span class='const'>Your</span><span class='op'>::</span><span class='const'>Selection</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
  <span class='label'>combination:</span> <span class='const'>Your</span><span class='op'>::</span><span class='const'>Combination</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
  <span class='label'>mutation:</span> <span class='const'>Your</span><span class='op'>::</span><span class='const'>Mutation</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='rparen'>)</span>
</code></pre>

<p>Evolve your population:</p>

<pre class="code ruby"><code class="ruby">population.evolve(count: 20)            # Run for 20 generations
population.evolve_to_goal               # Run until the current goal is met
population.evolve_to_goal(0.0)          # Run until a specific goal is met
population.evolve_forever               # Run indefinitely, ignoring any goal
population.evolve_selected([...])       # Use a custom subset of evolvables
</code></pre>

<p>Create new evolvables:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_new'>new</span> <span class='op'>=</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_new_evolvable'>new_evolvable</span>
<span class='id identifier rubyid_many'>many</span> <span class='op'>=</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_new_evolvables'>new_evolvables</span><span class='lparen'>(</span><span class='label'>count:</span> <span class='int'>10</span><span class='rparen'>)</span>
<span class='id identifier rubyid_with_genome'>with_genome</span> <span class='op'>=</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_new_evolvable'>new_evolvable</span><span class='lparen'>(</span><span class='label'>genome:</span> <span class='id identifier rubyid_another'>another</span><span class='period'>.</span><span class='id identifier rubyid_genome'>genome</span><span class='rparen'>)</span>
</code></pre>

<p>Customize the evolution lifecycle by implementing hooks:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_before_evaluation'>before_evaluation</span><span class='lparen'>(</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_before_evolution'>before_evolution</span><span class='lparen'>(</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span>
<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_after_evolution'>after_evolution</span><span class='lparen'>(</span><span class='id identifier rubyid_pop'>pop</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</code></pre>

<p>Evaluate progress:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_best'>best</span> <span class='op'>=</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_best_evolvable'>best_evolvable</span> <span class='kw'>if</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_met_goal?'>met_goal?</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Population">Population Documentation</a></p>

<h2 id="evaluation">Evaluation</h2>

<p>Evaluation sorts evolvables based on their fitness and provides mechanisms to
change the goal type and value (fitness goal). Goals define the success criteria
for evolution. They allow you to specify what your population is evolving toward,
whether it&#39;s maximizing a value, minimizing a value, or seeking a specific value.</p>

<p><strong>How It Works</strong></p>

<ol>
<li><p>Your evolvable class defines a <code>#fitness</code> method that returns a
<a href="https://docs.ruby-lang.org/en//3.4/Comparable.html">Comparable</a> object.</p>

<ul>
<li>Preferably a numeric value like an integer or float.</li>
</ul></li>
<li><p>During evolution, evolvables are sorted by your goal&#39;s fitness interpretation</p>

<ul>
<li>The default goal type is <code>:maximize</code>, see goal types below for other options</li>
</ul></li>
<li><p>If a goal value is specified, evolution will stop when it is met</p></li>
</ol>

<p><strong>Goal Types</strong></p>

<ul>
<li>Maximize (higher is better)</li>
</ul>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_robots'>robots</span> <span class='op'>=</span> <span class='const'>Robot</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='symbol'>:maximize</span><span class='rparen'>)</span> <span class='comment'># Defaults to infinity
</span><span class='id identifier rubyid_robots'>robots</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span> <span class='comment'># Evolve until fitness reaches 100+
</span>
<span class='comment'># Same as above
</span><span class='const'>Robot</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='lbrace'>{</span> <span class='label'>maximize:</span> <span class='int'>100</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span>
</code></pre>

<ul>
<li>Minimize (lower is better)</li>
</ul>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_errors'>errors</span> <span class='op'>=</span> <span class='const'>ErrorModel</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='symbol'>:minimize</span><span class='rparen'>)</span> <span class='comment'># Defaults to -infinity
</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span><span class='lparen'>(</span><span class='float'>0.01</span><span class='rparen'>)</span>  <span class='comment'># Evolve until error rate reaches 0.01 or less
</span>
<span class='comment'># Same as above
</span><span class='const'>ErrorModel</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='lbrace'>{</span> <span class='label'>minimize:</span> <span class='float'>0.01</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span>
</code></pre>

<ul>
<li>Equalize (closer to target is better)</li>
</ul>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_targets'>targets</span> <span class='op'>=</span> <span class='const'>TargetMatcher</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='symbol'>:equalize</span><span class='rparen'>)</span> <span class='comment'># Defaults to 0
</span><span class='id identifier rubyid_targets'>targets</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span><span class='lparen'>(</span><span class='int'>42</span><span class='rparen'>)</span>  <span class='comment'># Evolve until we match the target value
</span>
<span class='comment'># Same as above
</span><span class='const'>TargetMatcher</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span><span class='label'>evaluation:</span> <span class='lbrace'>{</span> <span class='label'>equalize:</span> <span class='int'>42</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_evolve_to_goal'>evolve_to_goal</span>
</code></pre>

<p><strong>Custom Goals</strong></p>

<p>You can create custom goals by subclassing <code>Evolvable::Goal</code> and implementing:</p>

<ul>
<li><code>evaluate(evolvable)</code>: Return a value that for sorting evolvables</li>
<li><code>met?(evolvable)</code>: Returns true when the goal value is reached</li>
</ul>

<p>Example goal implementation that prioritizes evolvables with fitness values within a specific range:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>YourRangeGoal</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Goal.html" title="Evolvable::Goal (class)">Goal</a></span></span>
  <span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span>
    <span class='ivar'>@value</span> <span class='op'>||=</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>100</span>
   <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_evaluate'>evaluate</span><span class='lparen'>(</span><span class='id identifier rubyid_evolvable'>evolvable</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_evolvable'>evolvable</span><span class='period'>.</span><span class='id identifier rubyid_fitness'>fitness</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_minmax'>minmax</span>
    <span class='op'>-</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span> <span class='op'>-</span> <span class='id identifier rubyid_evolvable'>evolvable</span><span class='period'>.</span><span class='id identifier rubyid_fitness'>fitness</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_max'>max</span> <span class='op'>-</span> <span class='id identifier rubyid_evolvable'>evolvable</span><span class='period'>.</span><span class='id identifier rubyid_fitness'>fitness</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_abs'>abs</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_met?'>met?</span><span class='lparen'>(</span><span class='id identifier rubyid_evolvable'>evolvable</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_evolvable'>evolvable</span><span class='period'>.</span><span class='id identifier rubyid_fitness'>fitness</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Evaluation">Evaluation Documentation</a></p>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Goal">Goal Documentation</a></p>

<h2 id="evolution">Evolution</h2>

<p><strong>Evolution</strong> moves a population from one generation to the next.
It runs in three steps: selection, combination, and mutation.
You can swap out any step with your own strategy.</p>

<p>Default pipeline:</p>

<ol>
<li><strong>Selection</strong> – keep the most fit evolvables</li>
<li><strong>Combination</strong> – create offspring by recombining genes</li>
<li><strong>Mutation</strong> – add random variation to preserve diversity</li>
</ol>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Evolution">Evolution Documentation</a></p>

<h2 id="selection">Selection</h2>

<p>Selection determines which evolvables will serve as parents for the next
generation. You can control the selection process in several ways:</p>

<p>Set the selection size during population initialization:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>MyEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>selection:</span> <span class='lbrace'>{</span> <span class='label'>size:</span> <span class='int'>3</span> <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>Adjust the selection size after initialization:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_selection_size'>selection_size</span> <span class='op'>=</span> <span class='int'>4</span>
</code></pre>

<p>Manually assign the selected evolvables:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_selected_evolvables'>selected_evolvables</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_evolvable1'>evolvable1</span><span class='comma'>,</span> <span class='id identifier rubyid_evolvable2'>evolvable2</span><span class='rbracket'>]</span>
</code></pre>

<p>Or evolve a custom selection directly:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_evolve_selected'>evolve_selected</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_evolvable1'>evolvable1</span><span class='comma'>,</span> <span class='id identifier rubyid_evolvable2'>evolvable2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>This flexibility lets you implement custom selection strategies,
overriding or augmenting the built-in behavior.</p>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Selection">Selection Documentation</a></p>

<h2 id="combination">Combination</h2>

<p>Combination is the process of creating new evolvables by mixing the genes
of selected parents. This step drives the creation of the next generation
by recombining traits in novel ways.</p>

<p>You can choose from several built-in combination strategies or implement your own.
By default, Evolvable uses <code>Evolvable::GeneCombination</code>, which delegates
gene-level behavior to individual gene classes.</p>

<p>To define custom combination logic for a gene type, implement:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>YourGeneClass</span><span class='period'>.</span><span class='id identifier rubyid_combine'>combine</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_1_gene'>parent_1_gene</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_2_gene'>parent_2_gene</span><span class='rparen'>)</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Combination">Combination Documentation</a></p>

<p><strong>Point Crossover</strong></p>

<p>A classic genetic algorithm strategy that performs single or multi-point crossover
by selecting random positions in the genome and swapping gene segments between parents.</p>

<ul>
<li><strong>Single-point crossover (default):</strong> Swaps all genes after a randomly chosen position.</li>
<li><strong>Multi-point crossover:</strong> Alternates segments between multiple randomly chosen points.</li>
</ul>

<p>Best for:</p>

<ul>
<li>Preserving beneficial gene blocks</li>
<li>Problems where related traits are located near each other</li>
</ul>

<p>Set your population to use this strategy during initialization with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>MyEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>combination:</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/PointCrossover.html" title="Evolvable::PointCrossover (class)">PointCrossover</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Evolvable/PointCrossover.html#initialize-instance_method" title="Evolvable::PointCrossover#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>points_count:</span> <span class='int'>2</span><span class='rparen'>)</span>
<span class='rparen'>)</span>
</code></pre>

<p>Or update an existing population:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/PointCrossover.html" title="Evolvable::PointCrossover (class)">PointCrossover</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Evolvable/PointCrossover.html#initialize-instance_method" title="Evolvable::PointCrossover#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>points_count:</span> <span class='int'>3</span><span class='rparen'>)</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/PointCrossover">PointCrossover Documentation</a></p>

<p><strong>Uniform Crossover</strong></p>

<p>Chooses genes independently at each position, selecting randomly from either
parent with equal probability. No segments are preserved—each gene is treated
in isolation.</p>

<p>Best for:</p>

<ul>
<li>Problems where gene order doesn&#39;t matter</li>
<li>High genetic diversity and exploration</li>
<li>Complex interdependencies across traits</li>
</ul>

<p>Uniform crossover is especially effective when good traits are scattered across the genome.</p>

<p>Set your population to use this strategy during initialization with:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>MyEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>combination:</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/UniformCrossover.html" title="Evolvable::UniformCrossover (class)">UniformCrossover</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='rparen'>)</span>
</code></pre>

<p>Or update an existing population:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/UniformCrossover.html" title="Evolvable::UniformCrossover (class)">UniformCrossover</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/UniformCrossover">UniformCrossover Documentation</a></p>

<h2 id="mutation">Mutation</h2>

<p>Mutation introduces genetic variation by randomly replacing genes with new
ones. This helps the population explore new areas of the solution space
and prevents premature convergence on suboptimal solutions.</p>

<p>Mutation is controlled by two key parameters:</p>

<ul>
<li><strong>probability</strong>: Likelihood that an individual will undergo mutation (range: 0.0–1.0)</li>
<li><strong>rate</strong>: Fraction of genes to mutate within those individuals (range: 0.0–1.0)</li>
</ul>

<p>A typical strategy is to start with higher mutation to encourage exploration:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>MyEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>mutation:</span> <span class='lbrace'>{</span> <span class='label'>probability:</span> <span class='float'>0.4</span><span class='comma'>,</span> <span class='label'>rate:</span> <span class='float'>0.2</span> <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>Then later reduce the mutation rate to focus on refinement and convergence:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_mutation_probability'>mutation_probability</span> <span class='op'>=</span> <span class='float'>0.1</span>
<span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_mutation_rate'>mutation_rate</span> <span class='op'>=</span> <span class='float'>0.05</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Mutation">Mutation Documentation</a></p>

<h2 id="gene-clusters">Gene Clusters</h2>

<p>Gene clusters group related genes into reusable components that can be applied
to multiple evolvable classes. This promotes clean organization, eliminates
naming conflicts, and simplifies gene access.</p>

<p><strong>Benefits:</strong></p>

<ul>
<li>Reuse gene groups across multiple evolvables</li>
<li>Prevent name collisions via automatic namespacing</li>
<li>Treat clusters as structured subcomponents of a genome</li>
<li>Access all genes in a cluster with a single method call</li>
</ul>

<p>The <code>ColorPaletteCluster</code> below defines a group of genes commonly used for styling themes:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>ColorPaletteCluster</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/GeneCluster.html" title="Evolvable::GeneCluster (module)">GeneCluster</a></span></span>

  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:primary</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ColorGene</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>1</span>
  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:secondary</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ColorGene</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>1</span>
  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:accent</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ColorGene</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>1</span>
  <span class='id identifier rubyid_gene'>gene</span> <span class='symbol'>:neutral</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ColorGene</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>count:</span> <span class='int'>1</span>
<span class='kw'>end</span>
</code></pre>

<p>Use the <code>cluster</code> macro to apply the cluster to your evolvable class:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Theme</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span>

  <span class='id identifier rubyid_cluster'>cluster</span> <span class='symbol'>:colors</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'>ColorPaletteCluster</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_inspect_colors'>inspect_colors</span>
    <span class='id identifier rubyid_colors'>colors</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>When a cluster is applied, its genes are automatically namespaced with the cluster name:</p>

<ul>
<li>Access the full group: <code>theme.colors</code> → returns all genes in the colors cluster</li>
<li>Access individual genes: <code>theme.find_gene(&quot;colors-primary&quot;)</code></li>
</ul>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/GeneCluster">GeneCluster Documentation</a></p>

<h2 id="community">Community</h2>

<p>The <code>Community</code> module provides a framework for coordinating multiple evolvable populations
under a unified interface. Each population represents a distinct type of evolvable, and
each key returns a single evolvable instance drawn from its corresponding population.</p>

<p>Communities are ideal for simulations or systems where different components evolve
in parallel but interact as part of a larger whole - such as ecosystems, design systems,
or modular agents. Evolvables from different populations can co-evolve, influencing each other&#39;s fitness.</p>

<p>Use the <code>evolvable_community</code> macro to declare the set of named populations in the community.
Each population will have a corresponding method (e.g., <code>fish_1</code>, <code>plant</code>, <code>shrimp</code>) that
returns a single evolvable instance. You can evolve all populations together using the
<code>evolve</code> method, or per population.</p>

<p><strong>Key Features</strong></p>

<ul>
<li>Define a community composed of named populations</li>
<li>Automatically generate accessors for each evolvable instance</li>
<li>Coordinate evolution across populations through a shared interface</li>
<li>Evolve all populations in a single call with <code>evolve(...)</code></li>
</ul>

<p>This <code>FishTank</code> example sets up a community with four named populations:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>FishTank</span>
  <span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Community.html" title="Evolvable::Community (module)">Community</a></span></span>

  <span class='id identifier rubyid_evolvable_community'>evolvable_community</span> <span class='label'>fish_1:</span> <span class='const'>Fish</span><span class='comma'>,</span>
                      <span class='label'>fish_2:</span> <span class='const'>Fish</span><span class='comma'>,</span>
                      <span class='label'>plant:</span> <span class='const'>AquariumPlant</span><span class='comma'>,</span>
                      <span class='label'>shrimp:</span> <span class='const'>CleanerShrimp</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_describe_tank'>describe_tank</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>🐟 Fish 1: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fish_1'>fish_1</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fish_1'>fish_1</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>🐟 Fish 2: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fish_2'>fish_2</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fish_2'>fish_2</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>🌿 Plant: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_plant'>plant</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_plant'>plant</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>🦐 Shrimp: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shrimp'>shrimp</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_shrimp'>shrimp</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Initialize the community, describe the tank, and evolve each population:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_tank'>tank</span> <span class='op'>=</span> <span class='const'>FishTank</span><span class='period'>.</span><span class='id identifier rubyid_new_community'>new_community</span>
<span class='id identifier rubyid_tank'>tank</span><span class='period'>.</span><span class='id identifier rubyid_describe_tank'>describe_tank</span>
<span class='id identifier rubyid_tank'>tank</span><span class='period'>.</span><span class='id identifier rubyid_evolve'>evolve</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Community">Community Documentation</a></p>

<h2 id="serialization">Serialization</h2>

<p>Evolvable supports saving and restoring the state of both populations
and individual evolvable instances through a built-in <code>Serializer</code>.
By default, it uses Ruby&#39;s <code>Marshal</code> class for fast, portable binary serialization.</p>

<p>Serialization is useful for:</p>

<ul>
<li>Saving progress during long-running evolution</li>
<li>Storing champion solutions for later reuse</li>
<li>Transferring evolved populations between systems</li>
<li>Creating checkpoints you can revert to</li>
</ul>

<p>Both <code>Population</code> and individual evolvables expose <code>dump</code> and <code>load</code> methods
that use the <code>Serializer</code> internally.</p>

<p>Save a population to a file:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>YourEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span>
<span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_evolve'>evolve</span><span class='lparen'>(</span><span class='label'>count:</span> <span class='int'>100</span><span class='rparen'>)</span>
<span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>population.marshal</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='rparen'>)</span>
</code></pre>

<p>Restore and continue evolution:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>population.marshal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_restored'>restored</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Evolvable/Population.html" title="Evolvable::Population (class)">Population</a></span></span><span class='period'>.</span><span class='id identifier rubyid_load'><span class='object_link'><a href="Evolvable/Population.html#load-class_method" title="Evolvable::Population.load (method)">load</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
<span class='id identifier rubyid_restored'>restored</span><span class='period'>.</span><span class='id identifier rubyid_evolve'>evolve</span><span class='lparen'>(</span><span class='label'>count:</span> <span class='int'>100</span><span class='rparen'>)</span>
</code></pre>

<p>Save an individual evolvable&#39;s genome:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_best'>best</span> <span class='op'>=</span> <span class='id identifier rubyid_restored'>restored</span><span class='period'>.</span><span class='id identifier rubyid_best_evolvable'>best_evolvable</span>
<span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>champion.marshal</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_best'>best</span><span class='period'>.</span><span class='id identifier rubyid_dump_genome'>dump_genome</span><span class='rparen'>)</span>
</code></pre>

<p>Restore genome into a new evolvable:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_raw'>raw</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>champion.marshal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_champion'>champion</span> <span class='op'>=</span> <span class='const'>YourEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_evolvable'>new_evolvable</span>
<span class='id identifier rubyid_champion'>champion</span><span class='period'>.</span><span class='id identifier rubyid_load_genome'>load_genome</span><span class='lparen'>(</span><span class='id identifier rubyid_raw'>raw</span><span class='rparen'>)</span>
</code></pre>

<p><a href="https://mattruzicka.github.io/evolvable/Evolvable/Serializer">Serializer Documentation</a></p>

<h2 id="contributing">Contributing</h2>

<p>Bug reports and pull requests are welcome on GitHub at <a href="https://github.com/mattruzicka/evolvable">https://github.com/mattruzicka/evolvable</a>.</p>
</div></div>

      <div id="footer">
  Generated on Sat May 10 18:45:45 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.2).
</div>

    </div>
  </body>
</html>