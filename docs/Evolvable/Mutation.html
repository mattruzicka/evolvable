<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Evolvable::Mutation
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Evolvable::Mutation";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span>
     &raquo; 
    <span class="title">Mutation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Evolvable::Mutation
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Evolvable::Mutation</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Forwardable</dd>
  </dl>
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/evolvable/mutation.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Mutation introduces genetic variation by randomly replacing genes with new
ones. This helps the population explore new areas of the solution space
and prevents premature convergence on suboptimal solutions.</p>

<p>Mutation is controlled by two key parameters:</p>

<ul>
<li><strong>probability</strong>: Likelihood that an individual will undergo mutation (range: 0.0–1.0)</li>
<li><strong>rate</strong>: Fraction of genes to mutate within those individuals (range: 0.0–1.0)</li>
</ul>

<p>A typical strategy is to start with higher mutation to encourage exploration:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span> <span class='op'>=</span> <span class='const'>MyEvolvable</span><span class='period'>.</span><span class='id identifier rubyid_new_population'>new_population</span><span class='lparen'>(</span>
  <span class='label'>mutation:</span> <span class='lbrace'>{</span> <span class='label'>probability:</span> <span class='float'>0.4</span><span class='comma'>,</span> <span class='label'>rate:</span> <span class='float'>0.2</span> <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>Then later reduce the mutation rate to focus on refinement and convergence:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_mutation_probability'>mutation_probability</span> <span class='op'>=</span> <span class='float'>0.1</span>
<span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_mutation_rate'>mutation_rate</span> <span class='op'>=</span> <span class='float'>0.05</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEFAULT_PROBABILITY-constant" class="">DEFAULT_PROBABILITY =
          <div class="docstring">
  <div class="discussion">
    <p>The default probability of mutation (3%).
This is used when no probability is specified.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='float'>0.03</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#probability-instance_method" title="#probability (instance method)">#<strong>probability</strong>  &#x21d2; Float </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The probability that an evolvable instance will undergo mutation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#rate-instance_method" title="#rate (instance method)">#<strong>rate</strong>  &#x21d2; Float<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The rate at which genes mutate within an instance.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>(population)  &#x21d2; Evolvable::Population </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Applies mutations to the population&#39;s evolvables based on the configured probability and rate.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(probability: nil, rate: nil)  &#x21d2; Mutation </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes a new mutation object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mutate_evolvables-instance_method" title="#mutate_evolvables (instance method)">#<strong>mutate_evolvables</strong>(evolvables)  &#x21d2; Array&lt;Evolvable&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Mutates a collection of evolvable instances based on the mutation probability and rate.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(probability: nil, rate: nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Evolvable::Mutation (class)">Mutation</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Initializes a new mutation object.</p>

<p>When rate is specified but probability isn&#39;t, probability defaults to 1.0.
When rate is 0 or not specified, only one gene is mutated per affected instance.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'><p>Basic initialization patterns</p>
</div></h5>
      
      <pre class="example code"><code><span class='comment'># Default: 3% of instances get one mutated gene
</span><span class='const'><span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Evolvable::Mutation (class)">Mutation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='comment'># 50% of instances get one mutated gene
</span><span class='const'><span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Evolvable::Mutation (class)">Mutation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>probability:</span> <span class='float'>0.5</span><span class='rparen'>)</span>

<span class='comment'># All instances are considered, with 3% of genes mutating in each
</span><span class='const'><span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Evolvable::Mutation (class)">Mutation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>rate:</span> <span class='float'>0.03</span><span class='rparen'>)</span>

<span class='comment'># 30% of instances have 3% of their genes mutated
</span><span class='const'><span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Evolvable::Mutation (class)">Mutation</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>probability:</span> <span class='float'>0.3</span><span class='comma'>,</span> <span class='label'>rate:</span> <span class='float'>0.03</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>probability</span>
      
      
        <span class='type'>(<tt>Float</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Chance of an instance being mutated (0.0-1.0)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rate</span>
      
      
        <span class='type'>(<tt>Float</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Chance of each gene mutating when an instance is selected (0.0-1.0)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/evolvable/mutation.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>probability:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>rate:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@probability</span> <span class='op'>=</span> <span class='id identifier rubyid_probability'>probability</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_rate'>rate</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_PROBABILITY-constant" title="Evolvable::Mutation::DEFAULT_PROBABILITY (constant)">DEFAULT_PROBABILITY</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@rate</span> <span class='op'>=</span> <span class='id identifier rubyid_rate'>rate</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="probability=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="probability-instance_method">
  
    #<strong>probability</strong>  &#x21d2; <tt>Float</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The probability that an evolvable instance will undergo mutation.
Value between 0.0 (never) and 1.0 (always).</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The mutation probability</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/evolvable/mutation.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_probability'>probability</span>
  <span class='ivar'>@probability</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="rate=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="rate-instance_method">
  
    #<strong>rate</strong>  &#x21d2; <tt>Float</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The rate at which genes mutate within an instance.
Value between 0.0 (no genes mutate) and 1.0 (all genes likely to mutate).
When nil, exactly one random gene is mutated per instance.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Float</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The mutation rate</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/evolvable/mutation.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rate'>rate</span>
  <span class='ivar'>@rate</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call-instance_method">
  
    #<strong>call</strong>(population)  &#x21d2; <tt><span class='object_link'><a href="Population.html" title="Evolvable::Population (class)">Evolvable::Population</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Applies mutations to the population&#39;s evolvables based on the
configured probability and rate.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>population</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Population.html" title="Evolvable::Population (class)">Evolvable::Population</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The population to mutate</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Population.html" title="Evolvable::Population (class)">Evolvable::Population</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The mutated population</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/evolvable/mutation.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_population'>population</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_mutate_evolvables'>mutate_evolvables</span><span class='lparen'>(</span><span class='id identifier rubyid_population'>population</span><span class='period'>.</span><span class='id identifier rubyid_evolvables'>evolvables</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_probability'>probability</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
  <span class='id identifier rubyid_population'>population</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mutate_evolvables-instance_method">
  
    #<strong>mutate_evolvables</strong>(evolvables)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Mutates a collection of evolvable instances based on the mutation
probability and rate.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>evolvables</span>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The collection of evolvable instances to potentially mutate</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="../Evolvable.html" title="Evolvable (module)">Evolvable</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The potentially mutated evolvables</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/evolvable/mutation.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mutate_evolvables'>mutate_evolvables</span><span class='lparen'>(</span><span class='id identifier rubyid_evolvables'>evolvables</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_evolvables'>evolvables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_evolvable'>evolvable</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_rand'>rand</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_probability'>probability</span>

    <span class='id identifier rubyid_evolvable'>evolvable</span><span class='period'>.</span><span class='id identifier rubyid_genome'>genome</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__key'>_key</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='op'>|</span> <span class='id identifier rubyid_mutate_genes'>mutate_genes</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:genes</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat May 10 18:45:45 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.2).
</div>

    </div>
  </body>
</html>